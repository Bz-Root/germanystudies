function auto_grow(e){e.style.height="1px",e.style.height=Math.max(Math.min(e.scrollHeight,400),50)+6+"px"}if($(function(){function e(){$("#bugdesk").html('<div class="bugdesk-minified bugdesk-expand" title="'+texto.JS_BUGDESK_TEXT+'"></div>')}console.log('Lingua.com says "Hello! (Version 1st October 2020)"'),$(document).on("click",'.navigation-toggle[data-toggle="0"]',function(e){$(".modal").remove(),$(".navigation-toggle").attr("data-toggle",1),$(".versionselector").hide(),$(".overlay").addClass("overlay-dark").show();$(".header").offset().top,$(".header").height();$(".navigation").slideDown("100")}),$(document).on("click",'.navigation-toggle[data-toggle="1"], .overlay-dark, .change-version, .open-account',function(e){if($(this).hasClass("change-version")){if($(window).width()>"650")return!1;$(".navigation").hide()}else $(".navigation").slideUp("1000");$(".navigation-toggle").attr("data-toggle",0),$(".overlay").removeClass("overlay-dark").hide(),$(".header").css("box-shadow","")}),$(document).on("click",'.change-version[data-versions-displayed="0"]',function(e){$(".sub-header").slideDown("1000"),$(".change-version").attr("data-versions-displayed",1),$(".change-version").find(".change-version__arrow").css("background-image","url('/images/up.gif')")}),$(document).on("click",'.change-version[data-versions-displayed="1"], .navigation-toggle',function(e){$(".sub-header").slideUp("1000"),$(".change-version").attr("data-versions-displayed",0),$(".change-version").find(".change-version__arrow").css("background-image","url('/images/down.gif')")}),$(document).on("click",".open-speaking",function(){var e=$(this).attr("data-language"),t="";"en"!=e&&(t="/"+e),$("html,body").scrollTop(0),$(".modal:not(.fixed-modal)").remove();var a="Practice to Speak English",o="Learn to speak and understand Englisch. Have a conversation with a native speaker over video.",s="Start with 30 free minutes",i="Choose a teacher for your first call";if("es"==e)a="Practica hablar inglés en línea",o="Practica escuchar y mejora tu pronunciación con un hablante nativo.",s="Comienza con 30 minutos gratis",i="Lista de los profesores";if("pl"==e)a="Naucz się mówić po angielsku online",o="Naucz się mówić i rozumieć angielski z native speakerem.",s="Uzyskaj 30 minut za darmo",i="Lista nauczycieli";if("fr"==e)a="Pratique à parler l'anglais en ligne",o="Écouter et parler en anglais avec des locuteurs natifs.",s="Commencer avec 30 minutes gratuites",i="Liste des professeurs";if("it"==e)a="Parla l’inglese online",o="Esercitati ad ascoltare e parlare inglese con madrelingua.",s="Inizia con 30 minuti gratis",i="Elenco di insegnanti";if("nl"==e)a="Oefen om Engels te spreken",o="Oefen om te luisteren en Engels te spreken met moedertaalsprekers.",s="Begin met 30 minuten gratis",i="Lijst van leraren";if("pt"==e)a="Aprenda a falar Inglês online",o="Pratique ouvir e falar inglês com falantes nativos.",s="Iniciar com 30 minutos de graça",i="Lista de professores";if("de"==e)a="Sprich und versteh besser Englisch",o="Einfach Muttersprachler auswählen und per Video Englisch sprechen und verstehen üben.",s="Jetzt 30 Minuten gratis ausprobieren",i="Liste aller verfügbaren Sprachlehrer";$('<div class="modal modal-speaking"><div class="modal-content modal-content-speaking" style="padding:0; max-width:500px"><div class="modal-body"><span class="h2-style" style="display:block; text-align:center">'+a+'</span><p style="display:block; text-align:center">'+o+'</p><a href="'+t+'/blabu/practice/" rel="nofollow" target="_blank"><img src="/images/teacher-jason.jpg" style="display:inline-block; width:33%"></a><a href="'+t+'/blabu/practice/" rel="nofollow" target="_blank"><img src="/images/teacher-paul.jpg" style="display:inline-block; width:33%"></a><a href="'+t+'/blabu/practice/" rel="nofollow" target="_blank"><img src="/images/teacher-ann.jpg" style="display:inline-block; width:33%"></a><div style="display:block; width:auto; text-align:center"><a href="'+t+'/blabu/practice/" rel="nofollow" target="_blank" class="button" style="border-color:#fb544e; background:#fb544e; margin:0 auto; color:#ffffff;">'+s+'</a><br><a href="'+t+'/blabu/teachers/" target="_blank" rel="nofollow" style="display:inline-block; margin-top:0.5rem">'+i+'</a></div><br><div class="modal-close" id="trigger-modal-close"></div></div></div></div>').insertAfter(".header");var n=$(".header").outerHeight()+14;$(".modal-content").css("margin-top",n+"px")}),$(document).on("click",".open-account",function(){$(".modal:not(.fixed-modal)").remove();var e='<div class="modal modal-login"><div class="modal-content modal-content-login"><div class="modal-body"><span class="h2-style">'+texto.JS_LOGIN_HEADLINE+"</span><p>"+texto.JS_LOGIN_TEXT+' <span class="a-style create-account">'+texto.JS_NAME_REGISTRATION+'</span></p><form class="form form-login" method="post"><label>'+texto.JS_LOGIN_FORM_USERNAME+'</label><input type="text" autofocus="autofocus" placeholder="'+texto.JS_LOGIN_FORM_USERNAME_PLACEHOLDER+'" class="input-text input-username" name="username"><label>'+texto.JS_LOGIN_FORM_PASSWORD+' <span class="a-style form-password-forgotten password-forgotten" style="font-weight:normal">'+texto.JS_LOGIN_FORM_PASSWORD_FORGOTTEN+'</span></label><input autocomplete="off" class="input-text input-password" placeholder="'+texto.JS_LOGIN_FORM_PASSWORD_PLACEHOLDER+'" type="password" name="password"><input type="submit" value="'+texto.JS_LOGIN_FORM_BUTTON+'" class="button"><div class="form-status"></div></form><div class="modal-close" id="trigger-modal-close"></div></div></div></div>';$(e).insertAfter(".header");var t=$(".header").outerHeight()+14;if($(".modal-content").css("margin-top",t+"px"),$(".input-username").focus(),$(window).width()<500){var a=$(".modal-content").offset().top+8;$("html,body").scrollTop(a)}}),$(document).on("click",".create-account",function(){!function(e){$('script[src="'+e+'" ]').length>0&&$('script[src="'+e+'" ]').remove();var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),void 0!==t&&document.getElementsByTagName("head")[0].appendChild(t)}("https://www.google.com/recaptcha/api.js"),$(".modal:not(.fixed-modal)").remove();var e='<div class="modal modal-register"><div class="modal-content modal-content-register"><div class="modal-body"><span class="h2-style">'+texto.JS_REGISTRATION_HEADLINE+"</span><p>"+texto.JS_REGISTRATION_TEXT+'</p><form class="form form-register" method="post"><label>'+texto.JS_REGISTRATION_FORM_FIRSTNAME+'</label><input autofocus="autofocus" placeholder="'+texto.JS_REGISTRATION_FORM_FIRSTNAME_PLACEHOLDER+'" class="input-text input-vorname" type="text" name="vorname" value=""><label>'+texto.JS_REGISTRATION_FORM_EMAIL+'</label><input placeholder="'+texto.JS_REGISTRATION_FORM_EMAIL_PLACEHOLDER+'" class="input-text input-email" type="email" name="email" value=""><label><label>'+texto.JS_REGISTRATION_FORM_PASSWORD+'</label><input autocomplete="off" class="input-text input-password" placeholder="'+texto.JS_REGISTRATION_FORM_PASSWORD_PLACEHOLDER+'" type="password" name="password"><label class="label-terms"><input type="checkbox" name="datenschutz_agreed" class="input-datenschutz" value="1">'+texto.JS_REGISTRATION_PRIVACY+'</label><label class="label-terms"><input type="checkbox" name="subscribe_newsletter" class="input-newsletter" value="1">'+texto.JS_REGISTRATION_NEWSLETTER+'</label><div class="g-recaptcha" data-sitekey="6Ld4h8EUAAAAAKRN97w-qihFyjc24BIkl73rpxzQ" style="padding-top:5px"></div><input type="submit" value="'+texto.JS_REGISTRATION_FORM_BUTTON+'" style="margin-top:8px"><div class="form-status"></div></form><div class="modal-close" id="trigger-modal-close"></div></div></div></div>';$(e).insertAfter(".header");var t=$(".header").outerHeight()+14;if($(".modal-content").css("margin-top",t+"px"),$(".input-vorname").focus(),$(window).width()<500){var a=$(".modal-content").offset().top+8;$("html,body").animate({scrollTop:a})}}),$(document).on("click",".password-forgotten",function(){$(".modal:not(.fixed-modal)").remove(),$("body").append('<div class="modal modal-passwort-forgotten"><div class="modal-content modal-content-password-forgotten"><div class="modal-body"><span class="h2-style">'+texto.JS_PASSWORD_FORGOTTEN_HEADLINE+"</span><p>"+texto.JS_PASSWORD_FORGOTTEN_TEXT+'.</p><form class="form form-password-forgotten" method="post"><label>'+texto.JS_ACCOUNT_LOGIN_USERNAME+'</label><input placeholder="'+texto.JS_ACCOUNT_LOGIN_USERNAME_PLACEHOLDER+'" class="input-text input-username" type="text" name="username"><input type="submit" value="'+texto.JS_PASSWORD_FORGOTTEN_BUTTON+'"><div class="form-status"></div></form><div class="modal-close" id="trigger-modal-close">&times;</div></div></div></div>');var e=$(".header").outerHeight()+14;if($(".modal-content").css("margin-top",e+"px"),$(".input-username").focus(),$(window).width()<500){var t=$(".modal-content").offset().top+8;$("html,body").animate({scrollTop:t})}}),$(document).on("submit",".form-login",function(e){e.preventDefault();var t=new XMLHttpRequest;t.onreadystatechange=function(){4==this.readyState&&200==this.status&&($(".form-login .form-status").html(""),1==this.responseText?window.location.href="/account/":12==this.responseText?($(".versionselector").html(texto.JS_PRELIMINARY_ACCOUNT_LINKS),$(".open-account").remove(),$(".modal-login").remove(),function(){$("html,body").scrollTop(0),$(".modal:not(.fixed-modal)").remove(),$("body").append('<div class="modal modal-ask-for-email"><div class="modal-content modal-content-ask-for-email"><div class="modal-body"><span class="h2-style">'+texto.JS_ASK_FOR_EMAIL_HEADLINE+"</span><p>"+texto.JS_ASK_FOR_EMAIL_TEXT+'</p><form class="form form-ask-for-email" method="post"><label>'+texto.JS_ASK_FOR_EMAIL_EMAIL+'</label><input placeholder="'+texto.JS_ASK_FOR_EMAIL_EMAIL_PLACEHOLDER+'" class="input-text input-email" type="text" name="email"><label class="label-terms"><input type="checkbox" name="subscribe_newsletter" class="input-newsletter" value="1">'+texto.JS_REGISTRATION_NEWSLETTER+'</label><input type="submit" value="'+texto.JS_ASK_FOR_EMAIL_BUTTON+'"><div class="form-status"></div></form><div class="modal-close" id="trigger-modal-close">&times;</div></div></div></div>');var e=$(".header").outerHeight()+14;$(".modal-content").css("margin-top",e+"px"),$(".input-email").focus()}()):2==this.responseText?$(".form-login").prepend('<div class="form-error-message">'+texto.JS_LOGIN_ERROR1+"</div>"):4==this.responseText?$(".form-login").prepend('<div class="form-error-message">'+texto.JS_LOGIN_ERROR2+"</div>"):5==this.responseText?$(".form-login").prepend('<div class="form-error-message">'+texto.JS_LOGIN_ERROR3+"</div>"):42==this.responseText?$(".form-login").prepend('<div class="form-error-message">'+texto.JS_LOGIN_ERROR4+"</div>"):$(".form-login").prepend('<div class="form-error-message">'+texto.JS_LOGIN_ERROR5+"</div>"))};var a=$(".form-login .input-username").val(),o=$(".form-login .input-password").val();$(".form-login .form-error-message").remove(),$(".form-login .form-status").html('<img src="/images/wait.gif">'),t.open("POST","/ajax/login.php",!0),t.timeout=1e4,t.ontimeout=function(e){},t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("ajax=1&username="+a+"&password="+o+"&version="+$(".footer").attr("data-lang"))}),$(document).on("submit",".form-register",function(e){e.preventDefault();var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==this.readyState&&200==this.status)if($(".form-register .form-status").html(""),1==this.responseText||11==this.responseText)$(".modal-content-register").html('<div class="modal-body"><span class="h2-style">'+texto.JS_REGISTRATION_SUCCESS_HEADLINE+"</span><p>"+texto.JS_REGISTRATION_SUCCESS_TEXT+'</p><span class="h2-style">'+texto.JS_REGISTRATION_SUCCESS_HEADLINE2+"</span><p>"+texto.JS_REGISTRATION_SUCCESS_TEXT2+'</p><div class="modal-close" id="trigger-modal-close">&times;</div></div>'),$("body").prepend('<div><div class="container"><div class="content">'+texto.JS_WARNING_NOT_ACTIVE+"</div></div></div>"),$(".versionselector").html(texto.JS_PRELIMINARY_ACCOUNT_LINKS),$(".open-account").remove(),$(".modal.modal-register").attr("style","top:55px"),$("html,body").scrollTop(0);else{var e=this.responseText.split(";");$(".form-register").prepend('<div class="form-error-message">'+texto.JS_REGISTRATION_ERROR+" "+e[1]+"</div>")}};var a=$(".form-register .input-vorname").val(),o=$(".form-register .input-email").val(),s=$(".form-register .input-username").val(),i=$(".form-register .input-password").val(),n=$(".g-recaptcha-response").val(),r=0;$(".form-register .input-datenschutz").is(":checked")&&(r=1);var l=0;if($(".form-register .input-newsletter").is(":checked")&&(l=1),$(".form-register .form-error-message").remove(),$(".form-register .form-status").html('<img src="/images/wait.gif">'),null!==localStorage.getItem("LebenslaufDaten")){var d=localStorage.getItem("LebenslaufDaten");console.log("Daten zur Übernahme im localStorage")}else d="";t.open("POST","/ajax/register.php",!0),t.timeout=5e3,t.ontimeout=function(e){},t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("ajax=1&email="+o+"&username="+s+"&password="+i+"&vorname="+a+"&datenschutz_agreed="+r+"&subscribe_newsletter="+l+"&g-recaptcha-response="+n+"&stored="+d+"&version="+$(".footer").attr("data-lang"))}),$(document).on("submit",".form-password-forgotten",function(e){e.preventDefault();var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==this.readyState&&200==this.status)if($(".form-password-forgotten .form-status").html(""),1==this.responseText)$(".modal-content-password-forgotten").html('<div class="modal-body"><span class="h2-style">'+texto.JS_PASSWORD_FORGOTTEN_SUCCESS_HEADLINE+"</span><p>"+texto.JS_PASSWORD_FORGOTTEN_SUCCESS_TEXT+'</p></div><div class="modal-close" id="trigger-modal-close">&times;</div>');else{var e=this.responseText.split(";");$(".form-password-forgotten").prepend('<div class="form-error-message">'+texto.JS_FORM_ERROR+" "+e[1]+"</div>")}};var a=$(".form-password-forgotten .input-username").val();$(".form-password-forgotten .form-error-message").remove(),$(".form-password-forgotten .form-status").html('<img src="/images/wait.gif">'),t.open("POST","/ajax/password-forgotten.php",!0),t.timeout=5e3,t.ontimeout=function(e){},t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("ajax=1&username="+a+"&version="+$(".footer").attr("data-lang"))}),$(document).on("submit",".form-ask-for-email",function(e){e.preventDefault();var t=new XMLHttpRequest;t.onreadystatechange=function(){4==this.readyState&&200==this.status&&($(".form-ask-for-email .form-status").html(""),1==this.responseText?$(".modal-content-ask-for-email").html('<div class="modal-body"><span class="h2-style">'+texto.JS_ASK_FOR_EMAIL_SUCCESS_HEADLINE+"</span><p>"+texto.JS_ASK_FOR_EMAIL_SUCCESS_TEXT+'</p></div><div class="modal-close" id="trigger-modal-close">&times;</div>'):(2==this.responseText&&$(".form-ask-for-email").prepend('<div class="form-error-message">'+texto.JS_ASK_FOR_EMAIL_ERROR_NO+"</div>"),3==this.responseText&&$(".form-ask-for-email").prepend('<div class="form-error-message">'+texto.JS_ASK_FOR_EMAIL_ERROR_INVALID+"</div>"),4==this.responseText&&$(".form-ask-for-email").prepend('<div class="form-error-message">'+texto.JS_ASK_FOR_EMAIL_ERROR_TAKEN+"</div>"),5==this.responseText&&$(".form-ask-for-email").prepend('<div class="form-error-message">'+texto.JS_ASK_FOR_EMAIL_ERROR_OTHER+"</div>")))};var a=$(".form-ask-for-email .input-email").val(),o=0;$(".form-ask-for-email .input-newsletter").is(":checked")&&(o=1),$(".form-ask-for-email .form-error-message").remove(),$(".form-ask-for-email .form-status").html('<img src="/images/wait.gif">'),t.open("POST","/ajax/ask-for-email.php",!0),t.timeout=5e3,t.ontimeout=function(e){},t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("ajax=1&email="+a+"&subscribe_newsletter="+o+"&version="+$(".footer").attr("data-lang"))}),$(document).on("click",".modal-close, .modal-deny, .modal-confirm",function(){$(this).closest(".modal").remove()}),$(document).on("click",".modal",function(e){if($(this).hasClass("fixed-modal")||$(this).hasClass("modal-cropper")||$(this).hasClass("modal-login")||$(this).hasClass("modal-signature")||$(this).hasClass("modal-register")||$(this).hasClass("modal-invoice"));else{if(e.target!==this)return;$(this).closest(".modal").remove()}}),"1"==localStorage.getItem("BugDeskMinfied")?e():$("#bugdesk").html('<div class="bugdesk"><div class="bugdesk-close minify-bugdesk"></div><p>'+texto.JS_BUGDESK_INTRO_TEXT+'<p><div class="button button--orange button--smaller bugdesk-expand">'+texto.JS_BUGDESK_INTRO_BUTTON+"</div></div>"),$(document).on("click",".minify-bugdesk",function(t){localStorage.setItem("BugDeskMinfied","1"),e()}),$(document).on("click",".bugdesk-expand",function(){$("#bugdesk").html('<div class="bugdesk"><form class="bugdesk-form"><div class="bugdesk-close minify-bugdesk"></div><b>'+texto.JS_BUGDESK_TEXT+'</b><div class="bugdesk-error-message"></div><textarea name="bugdesk-text" onkeyup="auto_grow(this)" class="bugdesk-text" placeholder="'+texto.JS_BUGDESK_PLACEHOLDER+'"></textarea><br><button class="button button--orange">'+texto.JS_BUGDESK_BUTTON+"</button></form></div>"),$(".bugdesk").css("max-width","350px"),localStorage.setItem("BugDeskMinfied","0")}),$(document).on("submit",".bugdesk-form",function(e){e.preventDefault();var t=new XMLHttpRequest;t.onreadystatechange=function(){4==this.readyState&&200==this.status&&(1==this.responseText?$(".bugdesk").html('<p style="margin:0">'+texto.JS_BUGDESK_SUCCESS+'</p><div class="bugdesk-close minify-bugdesk"></div>'):(2==this.responseText&&$("#bugdesk .bugdesk-error-message").html("<p>"+texto.JS_BUGDESK_ERROR1+"</p>"),3==this.responseText&&$("#bugdesk .bugdesk-error-message").html("<p>"+texto.JS_BUGDESK_ERROR2+"</p>"),4==this.responseText&&$("#bugdesk .bugdesk-error-message").html("<p>"+texto.JS_BUGDESK_ERROR3+"</p>")))};var a=$(this).find(".bugdesk-text").val(),o=$("#bugdesk").attr("data-url"),s=$("#bugdesk").attr("data-version"),i=$("#bugdesk").attr("data-text-id"),n=$("#bugdesk").attr("data-exercise-id"),r=$("#bugdesk").attr("data-site-language"),l=$("#bugdesk").attr("data-language");t.open("POST","/ajax/bugdesk.php",!0),t.timeout=5e3,t.ontimeout=function(e){},t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("ajax=1&text="+a+"&url="+o+"&version="+s+"&text_id="+i+"&exercise_id="+n+"&language="+l+"&site_language="+r)})}),$(document).on("click",".button-index-show-more",function(e){$(this).css("display","none"),$(".index-flag-hidden").css("display","inline-block"),$(".include-background.background-index").css("background-size","45% auto"),$(".include-background.background-index").css("background-position","100% bottom")}),$(".panel-exercise-fulltext").length>0){var firstElement=$(".exercise-input").first();$(firstElement).addClass("last-active-exercise-input"),showKeyPad(firstElement)}function notificationModal(e,t){$(".modal:not(.fixed-modal)").remove(),$('<div class="modal modal-notification"><div class="modal-content"><div class="modal-body"><span class="h2-style">'+e+"</span><p>"+t+' <div class="modal-close" id="trigger-modal-close"></div></div></div></div>').insertAfter(".header");var a=$(".header").outerHeight()+14,o=$(window).scrollTop()+($(window).height()/2-$(".modal-notification .modal-content").height()),s=Math.max(a,o);$(".modal-content").css("margin-top",s+"px")}function convertText(){alert($(this).val())}function showKeyPad(e){if($(".keypad").remove(),2!=$(e).attr("data-language"))return!1;var t="",a=0;["ä","ö","ü","ß","Ä","Ö","Ü"].forEach(function(e){t+='<div class="button button--sc add-character" data-character="'+e+'"><div class="button--sc__letter">'+e+'</div><div class="button--sc__shortcut">'+(a+=1)+"</div></div>"});var o='<span class="keypad" style="">'+t+"</span>";$(e).closest(".exercise-box").append(o);var s=$(e).closest(".exercise-box").find(".question-number").offset().left+$(e).closest(".exercise-box").find(".question-number").width()+30;$(".keypad").offset({left:s})}function hideKeyPad(e){$(e).closest(".exercise-box").find(".keypad").remove()}$(document).on("focus",".exercise-input",function(e){showKeyPad($(this)),$(".exercise-input").removeClass("last-active-exercise-input"),$(this).addClass("last-active-exercise-input")}),$(document).on("click",".add-character",function(e){var t=$(this).attr("data-character");$(".last-active-exercise-input").val($(".last-active-exercise-input").val()+t)}),$(document).on("keyup",".exercise-input",function(e){if(1==$(this).attr("data-number"))return!1;if(2!=$(this).attr("data-language"))return!1;var t=$(this).val();t=(t=(t=(t=(t=(t=(t=t.replace(/7/g,"Ü")).replace(/6/g,"Ö")).replace(/5/g,"Ä")).replace(/4/g,"ß")).replace(/3/g,"ü")).replace(/2/g,"ö")).replace(/1/g,"ä"),$(this).val()!=t&&$(this).val(t)}),$(document).on("click",".choose-dictation",function(e){var t=$(this).attr("data-dictation-id"),a=new XMLHttpRequest;a.onreadystatechange=function(){4==this.readyState&&200==this.status&&("error1"==this.responseText||"error2"==this.responseText?(notificationModal("Error","Invalid request"),console.log(this.responseText)):($(".dictation-exercise").html(this.responseText),$(".dictation-exercise").css("display","block"),$(".dictation-form").attr("data-dictation-id",t),$("html, body").animate({scrollTop:$(".dictation-exercise").offset().top},2e3),new GreenAudioPlayer(".lingua-player",{showTooltips:!0,showDownloadButton:!1,enableKeystrokes:!0})))},a.open("POST","",!0),a.timeout=5e3,a.ontimeout=function(e){},a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send("method=serve&dictation_id="+t)}),$(document).on("submit",".dictation-form",function(e){e.preventDefault();var t=$(this).attr("data-dictation-id"),a=$(this).find("#dictation").val(),o=a.split(" ").length;$(this).attr("data-wordcount");if(o<10)return notificationModal(texto.JS_DICTATION_TOO_SHORT_HEADLINE,texto.JS_DICTATION_TOO_SHORT_TEXT),!1;var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==this.readyState&&200==this.status)if("error1"==this.responseText||"error2"==this.responseText)alert(this.responseText);else{$("#exercise").html(this.responseText);var e=$("[data-dictation-score]").text();$('.choose-dictation[data-dictation-id="'+t+'"] .button-stats').removeClass("button-stats-pale").html(e)}},s.open("POST","",!0),s.timeout=5e3,s.ontimeout=function(e){},s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send("method=evaluate&dictation_id="+t+"&text="+a)}),$(document).on("keyup","#dictation",function(e){var t=$("#dictation").val().trim().split(" ").length;""!=$("#dictation").val()&&" "!=$("#dictation").val()||(t=0),$(".dictation_written_words").text(t)}),$(document).on("click",".choose-mp3",function(e){$(".speaker-box").addClass("inactive-speaker"),$(this).removeClass("inactive-speaker");var t='<audio crossorigin preload="none"><source class="dictation-info-mp3" src="'+$(this).attr("data-filename")+'" type="audio/mpeg"></audio>';$(".lingua-player").html(t),new GreenAudioPlayer(".lingua-player",{showTooltips:!0,showDownloadButton:!1,enableKeystrokes:!0})}),$(document).on("click",".open-premium",function(e){$(".modal:not(.fixed-modal)").remove();var t='<div class="modal modal-premium"><div class="modal-content modal-content-login"><div class="modal-body"><span class="h2-style">PREMIUM</span><p>'+texto.JS_LOGIN_TEXT+' <span class="a-style create-account">'+texto.JS_NAME_REGISTRATION+'</span></p><form class="form form-login" method="post"><label>'+texto.JS_LOGIN_FORM_USERNAME+'</label><input type="text" autofocus="autofocus" placeholder="'+texto.JS_LOGIN_FORM_USERNAME_PLACEHOLDER+'" class="input-text input-username" name="username"><label>'+texto.JS_LOGIN_FORM_PASSWORD+' <span class="a-style form-password-forgotten password-forgotten" style="font-weight:normal">'+texto.JS_LOGIN_FORM_PASSWORD_FORGOTTEN+'</span></label><input autocomplete="off" class="input-text input-password" placeholder="'+texto.JS_LOGIN_FORM_PASSWORD_PLACEHOLDER+'" type="password" name="password"><input type="submit" value="'+texto.JS_LOGIN_FORM_BUTTON+'" class="button"><div class="form-status"></div></form><div class="modal-close" id="trigger-modal-close"></div></div></div></div>';$(t).insertAfter(".header");var a=$(".header").outerHeight();$(".modal-content").css("margin-top",a+"px")}),$(document).on("click",".display-premium-content",function(e){var t=$(this).attr("data-section-id");if($('[data-section-id="'+t+'"] .hidden-premium-content').css("display","table-row"),$(this).remove(),$(document).width()>800){var a=$('.content_text_left[data-section-id="'+t+'"]'),o=$('.content_text_right[data-section-id="'+t+'"]'),s=$(a).find("tr").length,i=$(o).find("tr").length;if(i>s){var n=i-s,r=Math.ceil(n/2),l=$(o).find(".premium-content").slice(0,r);$(l).each(function(){$(this).appendTo($(a).find("table"))})}}});